plugins {
    id 'net.minecraftforge.gradle' version '[6.0,6.2)'
    id 'java'
}

processResources {
    duplicatesStrategy = duplicatesStrategy.INCLUDE
    from(sourceSets.main.resources.srcDirs) {
        include '**/mods.toml'
        expand('version': project.version)
    }
}

minecraft {
    mappings channel: 'official', version: minecraftVersion
}

dependencies {
    minecraft ("net.minecraftforge:forge:${minecraftVersion}-${forgeVersion}")

    implementation project(path: ':common', configuration: 'shadow')
}


shadowJar {
    dependencies {
        include(project(':common'))
    }

    relocate 'net.kyori', 'com.cssbham.cssminecraft.lib.adventure'

    archiveFileName = "cssminecraft-forge-${project.version}.jar"

    minimize()
}
